!function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return i(t[a][1][e]||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}}()({1:[function(e,t,n){!function(e,r,i,o){"use strict";var a,s,c={URL:e.URL||e.webkitURL||e.mozURL||e.msURL,getUserMedia:(s=i.getUserMedia||i.webkitGetUserMedia||i.mozGetUserMedia||i.msGetUserMedia,s?s.bind(i):s),requestAnimFrame:e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,requestTimeout:function(e,t){if(e=e||c.noop,t=t||0,!c.requestAnimFrame)return setTimeout(e,t);var n=(new Date).getTime(),r=new Object,i=c.requestAnimFrame;return r.value=i(function o(){(new Date).getTime()-n>=t?e.call():r.value=i(o)}),r},Blob:e.Blob||e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,btoa:(a=e.btoa||function(e){for(var t="",n=0,r=e.length,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=void 0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0,d=void 0;n<r;)c=(o=e.charCodeAt(n++))>>2,l=(3&o)<<4|(a=e.charCodeAt(n++))>>4,u=(15&a)<<2|(s=e.charCodeAt(n++))>>6,d=63&s,isNaN(a)?u=d=64:isNaN(s)&&(d=64),t=t+i.charAt(c)+i.charAt(l)+i.charAt(u)+i.charAt(d);return t},a?a.bind(e):c.noop),isObject:function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){return c.isObject(e)&&!Object.keys(e).length},isArray:function(e){return e&&Array.isArray(e)},isFunction:function(e){return e&&"function"==typeof e},isElement:function(e){return e&&1===e.nodeType},isString:function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},isSupported:{canvas:function(){var e=r.createElement("canvas");return e&&e.getContext&&e.getContext("2d")},webworkers:function(){return e.Worker},blob:function(){return c.Blob},Uint8Array:function(){return e.Uint8Array},Uint32Array:function(){return e.Uint32Array},videoCodecs:function(){var e=r.createElement("video"),t={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{e&&e.canPlayType&&(t.mp4=""!==e.canPlayType('video/mp4; codecs="mp4v.20.8"'),t.h264=""!==(e.canPlayType('video/mp4; codecs="avc1.42E01E"')||e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),t.ogv=""!==e.canPlayType('video/ogg; codecs="theora"'),t.ogg=""!==e.canPlayType('video/ogg; codecs="theora"'),t.webm=-1!==e.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(e){}return t}()},noop:function(){},each:function(e,t){var n=void 0,r=void 0;if(c.isArray(e))for(n=-1,r=e.length;++n<r&&!1!==t(n,e[n]););else if(c.isObject(e))for(n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))break},mergeOptions:function(e,t){if(c.isObject(e)&&c.isObject(t)&&Object.keys){var n={};return c.each(e,function(t,r){n[t]=e[t]}),c.each(t,function(r,i){var o=t[r];c.isObject(o)&&e[r]?n[r]=c.mergeOptions(e[r],o):n[r]=o}),n}},setCSSAttr:function(e,t,n){c.isElement(e)&&(c.isString(t)&&c.isString(n)?e.style[t]=n:c.isObject(t)&&c.each(t,function(t,n){e.style[t]=n}))},removeElement:function(e){c.isElement(e)&&e.parentNode&&e.parentNode.removeChild(e)},createWebWorker:function(e){if(!c.isString(e))return{};try{var t=new c.Blob([e],{type:"text/javascript"}),n=c.URL.createObjectURL(t);return{objectUrl:n,worker:new Worker(n)}}catch(e){return""+e}},getExtension:function(e){return e.substr(e.lastIndexOf(".")+1,e.length)},getFontSize:function(){var e=arguments.length>0&&arguments[0]!==o?arguments[0]:{};if(!r.body||!1===e.resizeFont)return e.fontSize;var t=e.text,n=e.gifWidth,i=parseInt(e.fontSize,10),a=parseInt(e.minFontSize,10),s=r.createElement("div"),c=r.createElement("span");for(s.setAttribute("width",n),s.appendChild(c),c.innerHTML=t,c.style.fontSize=i+"px",c.style.textIndent="-9999px",c.style.visibility="hidden",r.body.appendChild(c);c.offsetWidth>n&&i>=a;)c.style.fontSize=--i+"px";return r.body.removeChild(c),i+"px"},webWorkerError:!1},l=Object.freeze({default:c}),u={validate:function(e){e=c.isObject(e)?e:{};var t={};return c.each(u.validators,function(n,r){var i=r.errorCode;if(!e[i]&&!r.condition)return(t=r).error=!0,!1}),delete t.condition,t},isValid:function(e){var t=!0!==u.validate(e).error;return t},validators:[{condition:c.isFunction(c.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:c.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:c.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:c.isFunction(c.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:c.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:c.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:c.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},d=Object.freeze({default:u}),p=function(){},f={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:p,completeCallback:p,saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},m=Object.freeze({default:f});function h(){return u.isValid()}function g(){var e,t,n,r,i,o=256,a=499,s=491,c=487,l=503,u=3*l,d=o-1,p=4,f=100,m=16,h=1<<m,g=10,v=10,b=h>>v,S=h<<g-v,w=6,y=(o>>3)*(1<<w),k=30,C=1024,x=256,q=1<<18,$=[],E=[],O=[],U=[];function F(e,t,n,r,a){var s,c,l,u,d,p,f;for((l=t-e)<-1&&(l=-1),(u=t+e)>o&&(u=o),s=t+1,c=t-1,p=1;s<u||c>l;){if(d=U[p++],s<u){f=i[s++];try{f[0]-=d*(f[0]-n)/q|0,f[1]-=d*(f[1]-r)/q|0,f[2]-=d*(f[2]-a)/q|0}catch(e){}}if(c>l){f=i[c--];try{f[0]-=d*(f[0]-n)/q|0,f[1]-=d*(f[1]-r)/q|0,f[2]-=d*(f[2]-a)/q|0}catch(e){}}}}function W(e,t,n,r,o){var a=i[t],s=e/C;a[0]-=s*(a[0]-n)|0,a[1]-=s*(a[1]-r)|0,a[2]-=s*(a[2]-o)|0}function I(e,t,n){var r,a,s,c,l,u,d,f,h,w;for(h=f=~(1<<31),d=u=-1,r=0;r<o;r++)(a=(w=i[r])[0]-e)<0&&(a=-a),(s=w[1]-t)<0&&(s=-s),a+=s,(s=w[2]-n)<0&&(s=-s),(a+=s)<f&&(f=a,u=r),(c=a-(E[r]>>m-p))<h&&(h=c,d=r),l=O[r]>>v,O[r]-=l,E[r]+=l<<g;return O[u]+=b,E[u]-=S,d}(function(e,a,s){var c,l;for(t=e,n=a,r=s,i=new Array(o),c=0;c<o;c++)i[c]=new Array(4),(l=i[c])[0]=l[1]=l[2]=(c<<p+8)/o|0,O[c]=h/o|0,E[c]=0}).apply(this,arguments);var A={map:function(e,t,n){var r,a,s,c,l,u,d;for(l=1e3,d=-1,a=(r=$[t])-1;r<o||a>=0;)r<o&&((s=(u=i[r])[1]-t)>=l?r=o:(r++,s<0&&(s=-s),(c=u[0]-e)<0&&(c=-c),(s+=c)<l&&((c=u[2]-n)<0&&(c=-c),(s+=c)<l&&(l=s,d=u[3])))),a>=0&&((s=t-(u=i[a])[1])>=l?a=-1:(a--,s<0&&(s=-s),(c=u[0]-e)<0&&(c=-c),(s+=c)<l&&((c=u[2]-n)<0&&(c=-c),(s+=c)<l&&(l=s,d=u[3]))));return d}};return A.process=function(){return function(){var i,o,d,m,h,g,v,b,S,q,$,E,O,A;for(n<u&&(r=1),e=30+(r-1)/3,E=t,O=0,A=n,q=($=n/(3*r))/f|0,b=C,(v=(g=y)>>w)<=1&&(v=0),i=0;i<v;i++)U[i]=b*((v*v-i*i)*x/(v*v));for(S=n<u?3:n%a!=0?3*a:n%s!=0?3*s:n%c!=0?3*c:3*l,i=0;i<$;)if(W(b,o=I(d=(255&E[O+0])<<p,m=(255&E[O+1])<<p,h=(255&E[O+2])<<p),d,m,h),0!==v&&F(v,o,d,m,h),(O+=S)>=A&&(O-=n),i++,0===q&&(q=1),i%q==0)for(b-=b/e,(v=(g-=g/k)>>w)<=1&&(v=0),o=0;o<v;o++)U[o]=b*((v*v-o*o)*x/(v*v))}(),function(){var e;for(e=0;e<o;e++)i[e][0]>>=p,i[e][1]>>=p,i[e][2]>>=p,i[e][3]=e}(),function(){var e,t,n,r,a,s,c,l;for(c=0,l=0,e=0;e<o;e++){for(n=e,r=(a=i[e])[1],t=e+1;t<o;t++)(s=i[t])[1]<r&&(n=t,r=s[1]);if(s=i[n],e!=n&&(t=s[0],s[0]=a[0],a[0]=t,t=s[1],s[1]=a[1],a[1]=t,t=s[2],s[2]=a[2],a[2]=t,t=s[3],s[3]=a[3],a[3]=t),r!=c){for($[c]=l+e>>1,t=c+1;t<r;t++)$[t]=e;c=r,l=e}}for($[c]=l+d>>1,t=c+1;t<256;t++)$[t]=d}(),function(){for(var e=[],t=new Array(o),n=0;n<o;n++)t[i[n][3]]=n;for(var r=0,a=0;a<o;a++){var s=t[a];e[r++]=i[s][0],e[r++]=i[s][1],e[r++]=i[s][2]}return e}()},A}function v(){try{this.onmessage=function(t){var n,r=t.data||{};r.gifshot&&(n=e.run(r),postMessage(n))}}catch(e){}var e={dataToRGB:function(e,t,n){for(var r=t*n*4,i=0,o=[];i<r;)o.push(e[i++]),o.push(e[i++]),o.push(e[i++]),i++;return o},componentizedPaletteToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;n+=3){var r=e[n],i=e[n+1],o=e[n+2];t.push(r<<16|i<<8|o)}return t},processFrameWithQuantizer:function(e,t,n,r){for(var i=this.dataToRGB(e,t,n),o=new g(i,i.length,r),a=o.process(),s=new Uint32Array(this.componentizedPaletteToArray(a)),c=t*n,l=new Uint8Array(c),u=0,d=0;d<c;d++){var p=i[u++],f=i[u++],m=i[u++];l[d]=o.map(p,f,m)}return{pixels:l,palette:s}},run:function(e){var t=e=e||{},n=t.height,r=(t.palette,t.sampleInterval),i=t.width,o=e.data;return this.processFrameWithQuantizer(o,i,n,r)}};return e}function b(e,t,n,r){var i=0,a=(r=r===o?{}:r).loop===o?null:r.loop,s=r.palette===o?null:r.palette;if(t<=0||n<=0||t>65535||n>65535)throw"Width/Height invalid.";e[i++]=71,e[i++]=73,e[i++]=70,e[i++]=56,e[i++]=57,e[i++]=97;if(e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=0|(null!==s?128:0),e[i++]=0,e[i++]=0,null!==a){if(a<0||a>65535)throw"Loop count invalid.";e[i++]=33,e[i++]=255,e[i++]=11,e[i++]=78,e[i++]=69,e[i++]=84,e[i++]=83,e[i++]=67,e[i++]=65,e[i++]=80,e[i++]=69,e[i++]=50,e[i++]=46,e[i++]=48,e[i++]=3,e[i++]=1,e[i++]=255&a,e[i++]=a>>8&255,e[i++]=0}var c=!1;this.addFrame=function(t,n,r,a,l,u){if(!0===c&&(--i,c=!1),u=u===o?{}:u,t<0||n<0||t>65535||n>65535)throw"x/y invalid.";if(r<=0||a<=0||r>65535||a>65535)throw"Width/Height invalid.";if(l.length<r*a)throw"Not enough pixels for the frame size.";var d=!0,p=u.palette;if(p!==o&&null!==p||(d=!1,p=s),p===o||null===p)throw"Must supply either a local or global palette.";for(var f=function(e){var t=e.length;if(t<2||t>256||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}(p),m=0;f>>=1;)++m;f=1<<m;var h=u.delay===o?0:u.delay,g=u.disposal===o?0:u.disposal;if(g<0||g>3)throw"Disposal out of range.";var v=!1,b=0;if(u.transparent!==o&&null!==u.transparent&&(v=!0,(b=u.transparent)<0||b>=f))throw"Transparent color index.";if((0!==g||v||0!==h)&&(e[i++]=33,e[i++]=249,e[i++]=4,e[i++]=g<<2|(!0===v?1:0),e[i++]=255&h,e[i++]=h>>8&255,e[i++]=b,e[i++]=0),e[i++]=44,e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=255&r,e[i++]=r>>8&255,e[i++]=255&a,e[i++]=a>>8&255,e[i++]=!0===d?128|m-1:0,!0===d)for(var S=0,w=p.length;S<w;++S){var y=p[S];e[i++]=y>>16&255,e[i++]=y>>8&255,e[i++]=255&y}i=function(e,t,n,r){e[t++]=n;var i=t++,a=1<<n,s=a-1,c=a+1,l=c+1,u=n+1,d=0,p=0;function f(n){for(;d>=n;)e[t++]=255&p,p>>=8,d-=8,t===i+256&&(e[i]=255,i=t++)}function m(e){p|=e<<d,d+=u,f(8)}var h=r[0]&s,g={};m(a);for(var v=1,b=r.length;v<b;++v){var S=r[v]&s,w=h<<8|S,y=g[w];if(y===o){for(p|=h<<d,d+=u;d>=8;)e[t++]=255&p,p>>=8,d-=8,t===i+256&&(e[i]=255,i=t++);4096===l?(m(a),l=c+1,u=n+1,g={}):(l>=1<<u&&++u,g[w]=l++),h=S}else h=y}m(h),m(c),f(1),i+1===t?e[i]=0:(e[i]=t-i-1,e[t++]=0);return t}(e,i,m<2?2:m,l)},this.end=function(){return!1===c&&(e[i++]=59,c=!0),i}}var S=function(){},w=function(e){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=S,this.onRenderProgressCallback=S,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=e,this.initializeWebWorkers(e)};w.prototype={workerMethods:v(),initializeWebWorkers:function(e){var t,n=g.toString()+"("+v.toString()+"());",i=void 0,o=void 0,a=void 0,s=-1,l="";for(t=e.numWorkers;++s<t;)i=c.createWebWorker(n),c.isObject(i)?(o=i.objectUrl,a=i.worker,this.workers.push({worker:a,objectUrl:o}),this.availableWorkers.push(a)):(l=i,c.webWorkerError=!!i);this.workerError=l,this.canvas=r.createElement("canvas"),this.canvas.width=e.gifWidth,this.canvas.height=e.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(e){this.availableWorkers.push(e)},byteMap:function(){for(var e=[],t=0;t<256;t++)e[t]=String.fromCharCode(t);return e}(),bufferToString:function(e){for(var t=e.length,n="",r=-1;++r<t;)n+=this.byteMap[e[r]];return n},onFrameFinished:function(e){var t=this,n=t.frames,r=!!(t.options.images||[]).length,i=n.every(function(e){return!e.beingProcessed&&e.done});t.numRenderedFrames++,r&&e(t.numRenderedFrames/n.length),t.onRenderProgressCallback(.75*t.numRenderedFrames/n.length),i?t.generatingGIF||t.generateGIF(n,t.onRenderCompleteCallback):c.requestTimeout(function(){t.processNextFrame()},1)},processFrame:function(e){var t=this,n=(this.options,this.options),r=n.progressCallback,i=n.sampleInterval,a=this.frames,s=void 0,c=void 0,l=function(){var e=(arguments.length>0&&arguments[0]!==o?arguments[0]:{}).data;delete s.data,s.pixels=Array.prototype.slice.call(e.pixels),s.palette=Array.prototype.slice.call(e.palette),s.done=!0,s.beingProcessed=!1,t.freeWorker(c),t.onFrameFinished(r)};(s=a[e]).beingProcessed||s.done?this.onFrameFinished():(s.sampleInterval=i,s.beingProcessed=!0,s.gifshot=!0,(c=this.getWorker())?(c.onmessage=l,c.postMessage(s)):l({data:t.workerMethods.run(s)}))},startRendering:function(e){this.onRenderCompleteCallback=e;for(var t=0;t<this.options.numWorkers&&t<this.frames.length;t++)this.processFrame(t)},processNextFrame:function(){for(var e=-1,t=0;t<this.frames.length;t++){var n=this.frames[t];if(!n.done&&!n.beingProcessed){e=t;break}}e>=0&&this.processFrame(e)},generateGIF:function(e,t){var n=[],r={loop:this.repeat},i=this.options,o=i.interval,a=i.frameDuration,s=!!i.images.length,l=i.gifHeight,u=i.gifWidth,d=new b(n,u,l,r),p=this.onRenderProgressCallback,f=s?100*o:0,m=void 0;this.generatingGIF=!0,c.each(e,function(t,n){var r=n.palette;p(.75+.25*n.position*1/e.length);for(var i=0;i<a;i++)d.addFrame(0,0,u,l,n.pixels,{palette:r,delay:f})}),d.end(),p(1),this.frames=[],this.generatingGIF=!1,c.isFunction(t)&&(m=this.bufferToString(n),t("data:image/gif;base64,"+c.btoa(m)))},setRepeat:function(e){this.repeat=e},addFrame:function(e,t){t=c.isObject(t)?t:{};var n=this.ctx,r=this.options,i=r.gifWidth,o=r.gifHeight,a=c.getFontSize(t),s=t,l=s.filter,u=s.fontColor,d=s.fontFamily,p=s.fontWeight,f=(s.gifHeight,s.gifWidth,s.text),m=s.textAlign,h=s.textBaseline,g=t.textXCoordinate?t.textXCoordinate:"left"===m?1:"right"===m?i:i/2,v=t.textYCoordinate?t.textYCoordinate:"top"===h?1:"center"===h?o/2:o,b=p+" "+a+" "+d,S=void 0;try{n.filter=l,n.drawImage(e,0,0,i,o),f&&(n.font=b,n.fillStyle=u,n.textAlign=m,n.textBaseline=h,n.fillText(f,g,v)),S=n.getImageData(0,0,i,o),this.addFrameImageData(S)}catch(e){return""+e}},addFrameImageData:function(){var e=arguments.length>0&&arguments[0]!==o?arguments[0]:{},t=this.frames,n=e.data;this.frames.push({data:n,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:t.length})},onRenderProgress:function(e){this.onRenderProgressCallback=e},isRendering:function(){return this.generatingGIF},getBase64GIF:function(e){var t=this;t.startRendering(function(n){t.destroyWorkers(),c.requestTimeout(function(){e(n)},0)})},destroyWorkers:function(){if(!this.workerError){var e=this.workers;c.each(e,function(e,t){var n=t.worker,r=t.objectUrl;n.terminate(),c.URL.revokeObjectURL(r)})}}};var y=function(){},k={getGIF:function(){var e=arguments.length>0&&arguments[0]!==o?arguments[0]:{},t=arguments[1];t=c.isFunction(t)?t:y;var n=r.createElement("canvas"),i=void 0,a=!!e.images.length,s=e.cameraStream,l=e.crop,u=e.filter,d=e.fontColor,p=e.fontFamily,f=e.fontWeight,m=e.keepCameraOn,h=(e.numWorkers,e.progressCallback),g=e.saveRenderingContexts,v=e.savedRenderingContexts,b=e.text,S=e.textAlign,k=e.textBaseline,C=e.videoElement,x=e.videoHeight,q=e.videoWidth,$=e.webcamVideoElement,E=Number(e.gifWidth),O=Number(e.gifHeight),U=Number(e.interval),F=(Number(e.sampleInterval),a?0:1e3*U),W=[],I=v.length?v.length:e.numFrames,A=I,M=new w(e),T=c.getFontSize(e),H=e.textXCoordinate?e.textXCoordinate:"left"===S?1:"right"===S?E:E/2,R=e.textYCoordinate?e.textYCoordinate:"top"===k?1:"center"===k?O/2:O,P=f+" "+T+" "+p,j=l?Math.floor(l.scaledWidth/2):0,L=l?q-l.scaledWidth:0,V=l?Math.floor(l.scaledHeight/2):0,B=l?x-l.scaledHeight:0;I=I!==o?I:10,U=U!==o?U:.1,n.width=E,n.height=O,i=n.getContext("2d"),function e(){v.length||0!==C.currentTime?function e(){var n=A-1;function r(){var r;g&&W.push(i.getImageData(0,0,E,O)),b&&(i.font=P,i.fillStyle=d,i.textAlign=S,i.textBaseline=k,i.fillText(b,H,R)),r=i.getImageData(0,0,E,O),M.addFrameImageData(r),h((I-(A=n))/I),n>0&&c.requestTimeout(e,F),A||M.getBase64GIF(function(e){t({error:!1,errorCode:"",errorMsg:"",image:e,cameraStream:s,videoElement:C,webcamVideoElement:$,savedRenderingContexts:W,keepCameraOn:m})})}v.length?(i.putImageData(v[I-A],0,0),r()):function e(){try{L>q&&(L=q),B>x&&(B=x),j<0&&(j=0),V<0&&(V=0),i.filter=u,i.drawImage(C,j,V,L,B,0,0,E,O),r()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t;c.requestTimeout(e,100)}}()}():c.requestTimeout(e,100)}()},getCropDimensions:function(){var e=arguments.length>0&&arguments[0]!==o?arguments[0]:{},t=e.videoWidth,n=e.videoHeight,r=e.gifWidth,i=e.gifHeight,a={width:0,height:0,scaledWidth:0,scaledHeight:0};return t>n?(a.width=Math.round(t*(i/n))-r,a.scaledWidth=Math.round(a.width*(n/i))):(a.height=Math.round(n*(r/t))-i,a.scaledHeight=Math.round(a.height*(t/r))),a}},C={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function e(t){e.attempts=e.attempts||0;var n=t.cameraStream,r=t.completedCallback,i=t.videoElement;i&&(i.videoWidth>0&&i.videoHeight>0?(i.removeEventListener("loadeddata",C.findVideoSize),r({videoElement:i,cameraStream:n,videoWidth:i.videoWidth,videoHeight:i.videoHeight})):e.attempts<10?(e.attempts+=1,c.requestTimeout(function(){C.findVideoSize(t)},400)):r({videoElement:i,cameraStream:n,videoWidth:C.defaultVideoDimensions.width,videoHeight:C.defaultVideoDimensions.height}))},onStreamingTimeout:function(e){c.isFunction(e)&&e({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(e){var t=c.isArray(e.existingVideo)?e.existingVideo[0]:e.existingVideo,n=e.cameraStream,r=e.completedCallback,i=e.streamedCallback,o=e.videoElement;if(c.isFunction(i)&&i(),t){if(c.isString(t))o.src=t,o.innerHTML='<source src="'+t+'" type="video/'+c.getExtension(t)+'" />';else if(t instanceof Blob){try{o.src=c.URL.createObjectURL(t)}catch(e){}o.innerHTML='<source src="'+t+'" type="'+t.type+'" />'}}else if(o.mozSrcObject)o.mozSrcObject=n;else if(c.URL)try{o.srcObject=n,o.src=c.URL.createObjectURL(n)}catch(e){o.srcObject=n}o.play(),c.requestTimeout(function e(){e.count=e.count||0,!0===C.loadedData?(C.findVideoSize({videoElement:o,cameraStream:n,completedCallback:r}),C.loadedData=!1):(e.count+=1)>10?C.findVideoSize({videoElement:o,cameraStream:n,completedCallback:r}):e()},0)},startStreaming:function(e){var t=c.isFunction(e.error)?e.error:c.noop,n=c.isFunction(e.streamed)?e.streamed:c.noop,i=c.isFunction(e.completed)?e.completed:c.noop,o=e.crossOrigin,a=e.existingVideo,s=e.lastCameraStream,l=e.options,u=e.webcamVideoElement,d=c.isElement(a)?a:u||r.createElement("video");o&&(d.crossOrigin=l.crossOrigin),d.autoplay=!0,d.loop=!0,d.muted=!0,d.addEventListener("loadeddata",function(e){C.loadedData=!0,l.offset&&(d.currentTime=l.offset)}),a?C.stream({videoElement:d,existingVideo:a,completedCallback:i}):s?C.stream({videoElement:d,cameraStream:s,streamedCallback:n,completedCallback:i}):c.getUserMedia({video:!0},function(e){C.stream({videoElement:d,cameraStream:e,streamedCallback:n,completedCallback:i})},t)},startVideoStreaming:function(e){var t=arguments.length>1&&arguments[1]!==o?arguments[1]:{},n=t.timeout!==o?t.timeout:0,r=t.callback,i=t.webcamVideoElement,a=void 0;n>0&&(a=c.requestTimeout(function(){C.onStreamingTimeout(r)},1e4)),C.startStreaming({error:function(){r({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(a)},completed:function(){var t=arguments.length>0&&arguments[0]!==o?arguments[0]:{},n=t.cameraStream,r=t.videoElement,i=t.videoHeight,a=t.videoWidth;e({cameraStream:n,videoElement:r,videoHeight:i,videoWidth:a})},lastCameraStream:t.lastCameraStream,webcamVideoElement:i,crossOrigin:t.crossOrigin,options:t})},stopVideoStreaming:function(e){var t=e=c.isObject(e)?e:{},n=t.keepCameraOn,r=t.videoElement,i=t.webcamVideoElement,o=e.cameraStream||{},a=o.getTracks&&o.getTracks()||[],s=!!a.length,l=a[0];!n&&s&&c.isFunction(l.stop)&&l.stop(),c.isElement(r)&&!i&&(r.pause(),c.isFunction(c.URL.revokeObjectURL)&&!c.webWorkerError&&r.src&&c.URL.revokeObjectURL(r.src),c.removeElement(r))}};function x(e){e=c.isObject(e)?e:{},C.stopVideoStreaming(e)}function q(e,t){var n=e.options||{},i=n.images,o=n.video,a=Number(n.gifWidth),s=Number(n.gifHeight),l=(Number(n.numFrames),e.cameraStream),u=e.videoElement,d=e.videoWidth,p=e.videoHeight,f=k.getCropDimensions({videoWidth:d,videoHeight:p,gifHeight:s,gifWidth:a}),m=t;n.crop=f,n.videoElement=u,n.videoWidth=d,n.videoHeight=p,n.cameraStream=l,c.isElement(u)&&(u.width=a+f.width,u.height=s+f.height,n.webcamVideoElement||(c.setCSSAttr(u,{position:"fixed",opacity:"0"}),r.body.appendChild(u)),u.play(),k.getGIF(n,function(e){i&&i.length||o&&o.length||x(e),m(e)}))}function $(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var n=c.mergeOptions(f,e)||{},i=e.cameraStream,a=n.images,s=a?a.length:0,l=n.video,d=n.webcamVideoElement;n=c.mergeOptions(n,{gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),s?function(){var e=arguments.length>0&&arguments[0]!==o?arguments[0]:{},t=e.callback,n=e.images,i=e.options,a=e.imagesLength,s=u.validate({getUserMedia:!0,"window.URL":!0}),l=[],d=0,p=void 0,f=void 0;if(s.error)return t(s);function m(){c.each(l,function(e,t){t&&(t.text?f.addFrame(t.img,i,t.text):f.addFrame(t,i))}),function(e,t){e.getBase64GIF(function(e){t({error:!1,errorCode:"",errorMsg:"",image:e})})}(f,t)}f=new w(i),c.each(n,function(e,n){var o=n;n.src&&(o=o.src),c.isElement(o)?(i.crossOrigin&&(o.crossOrigin=i.crossOrigin),l[e]=o,(d+=1)===a&&m()):c.isString(o)&&(p=new Image,i.crossOrigin&&(p.crossOrigin=i.crossOrigin),function(r){n.text&&(r.text=n.text),r.onerror=function(e){var n=void 0;if(0==--a)return(n={}).error="None of the requested images was capable of being retrieved",t(n)},r.onload=function(t){n.text?l[e]={img:r,text:r.text}:l[e]=r,(d+=1)===a&&m(),c.removeElement(r)},r.src=o}(p),c.setCSSAttr(p,{position:"fixed",opacity:"0"}),r.body.appendChild(p))})}({images:a,imagesLength:s,callback:t,options:n}):l?function(){var e=arguments.length>0&&arguments[0]!==o?arguments[0]:{},t=e.callback,n=e.existingVideo,r=e.options,i=u.validate({getUserMedia:!0,"window.URL":!0}),a=void 0,s=void 0;if(i.error)return t(i);if(c.isElement(n)&&n.src){if(s=n.src,a=c.getExtension(s),!c.isSupported.videoCodecs[a])return t(u.messages.videoCodecs)}else c.isArray(n)&&c.each(n,function(e,t){if(a=t instanceof Blob?t.type.substr(t.type.lastIndexOf("/")+1,t.length):t.substr(t.lastIndexOf(".")+1,t.length),c.isSupported.videoCodecs[a])return n=t,!1});C.startStreaming({completed:function(e){e.options=r||{},q(e,t)},existingVideo:n,crossOrigin:r.crossOrigin,options:r})}({existingVideo:l,callback:t,options:n}):function(){var e=arguments.length>0&&arguments[0]!==o?arguments[0]:{},t=e.callback,n=e.lastCameraStream,r=e.options,i=e.webcamVideoElement;if(!h())return t(u.validate());r.savedRenderingContexts.length?k.getGIF(r,function(e){t(e)}):C.startVideoStreaming(function(){var e=arguments.length>0&&arguments[0]!==o?arguments[0]:{};e.options=r||{},q(e,t)},{lastCameraStream:n,callback:t,webcamVideoElement:i,crossOrigin:r.crossOrigin})}({lastCameraStream:i,callback:t,webcamVideoElement:d,options:n})}}var E={utils:l,error:d,defaultOptions:m,createGIF:$,takeSnapShot:function(e,t){if(t=c.isFunction(e)?e:t,e=c.isObject(e)?e:{},c.isFunction(t)){var n=c.mergeOptions(f,e);$(c.mergeOptions(n,{interval:.1,numFrames:1,gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),t)}},stopVideoStreaming:x,isSupported:function(){return u.isValid()},isWebCamGIFSupported:h,isExistingVideoGIFSupported:function(e){var t=!1;if(c.isArray(e)&&e.length){if(c.each(e,function(e,n){c.isSupported.videoCodecs[n]&&(t=!0)}),!t)return!1}else if(c.isString(e)&&e.length&&!c.isSupported.videoCodecs[e])return!1;return u.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return u.isValid({getUserMedia:!0})},VERSION:"0.4.5"};"function"==typeof define&&define.amd?define([],function(){return E}):void 0!==n?t.exports=E:e.gifshot=E}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},{}],2:[function(e,t,n){t.exports={notify:function(e,t,n,r,i){if(0==$("#"+t).length){var o=document.createElement("span");for(className in o.innerHTML=`<b>${i||""} ${e} </b>`,o.id=t,n)o.classList.add(className);$("body").append(o)}$("#"+t).fadeIn(500).delay(r||200).fadeOut(500)},setCacheShortcut:function(){var e=!1,t=!1,n={ctrlcmd:[17,91,93,224],E:69};function r(t){e||n.ctrlcmd.includes(t.which)&&(e=!0,$(document).off("keydown"),$(document).on("keydown",i))}function i(r){e&&!t&&r.which==n.E&&$("#clear-cache").click()}$(document).on("keydown",r),$(document).on("keyup",function(i){(n.ctrlcmd.includes(i.which)||i.which==n.E)&&(e=!1,t=!1,$(document).off("keydown"),$(document).on("keydown",r))})}}},{}],3:[function(e,t,n){function r(e,t,n,r){var i=ImageSequencer();function o(t){var n=document.createElement("img");n.classList.add("preview-thumbnail"),n.src=t;$(r).each(function(){$(this).attr("data-value")===e&&$(this).append(n)})}i.loadImage(n,function(){i=i.addSteps("resize",{resize:"40%"}),"crop"===e?i.addSteps(e,t).run(o):i.addSteps(e,{[e]:t}).run(o)})}t.exports={generatePreview:r,updatePreviews:function(e,t){$(t+" img").remove();var n={brightness:"20",saturation:"5",rotate:90,contrast:90,crop:{x:0,y:0,w:"(50%)",h:"(50%)",noUI:!0}};Object.keys(n).forEach(function(i,o){r(i,Object.values(n)[o],e,t)})}}},{}],4:[function(e,t,n){var r=e("./sequencer/sequence/defaultHtmlSequencerUi"),i=e("./sequencer/step/defaultHtmlStepUi"),o=e("./sequencer/sequence/saveSequence"),a=e("./sequencer/sequence/gif"),s=e("./sw/cache"),c=e("./sw/sw");t.exports={setSequencerUi:r,setStepUi:i,setSequenceSave:o,setGifGenerator:a,setupCache:s,sw:c}},{"./sequencer/sequence/defaultHtmlSequencerUi":5,"./sequencer/sequence/gif":6,"./sequencer/sequence/saveSequence":7,"./sequencer/step/defaultHtmlStepUi":10,"./sw/cache":13,"./sw/sw":14}],5:[function(e,t,n){var r=e("./urlHash.js");t.exports=function(e,t){var n=(t=t||{}).addStepSel||"#addStep",i=t.removeStepSel||"button.remove",o=t.selectStepSel||"#selectStep";function a(){var t=r.getUrlHashParameter("steps");t&&(e.importString(t),e.run({index:0})),r.setUrlHashParameter("steps",sequencer.toString())}return t.addStepBtnSel=t.addStepBtnSel||".add-step-btn",t.quickBtnsSel=t.quickBtnsSel||".quick-btns .quick-btn",{sequencer:e,options:t,onLoad:function(e=function(){}){a(),$(o).val()||e(),handleSaveSequence()},importStepsFromUrlHash:a,selectNewStepUi:function(t){var r=$(o).val();$(`${n} .info`).html(e.modulesInfo(r).description),t&&t()},removeStepUi:function(){var e=$(i).index(this)+1;sequencer.removeSteps(e).run({index:e-1}),r.setUrlHashParameter("steps",sequencer.toString()),handleSaveSequence()},addStepUi:function(i){if("none"!=$(o).val()){var a=$(o).val(),s=1;sequencer.sequences[a]?s=sequencer.sequences[a].length:sequencer.modules[a][1].length&&(s=sequencer.modules[a][1].length),e.addSteps(a,t).run({index:e.images.image1.steps.length-s-1}),$(`${n} ${stepInfoSel}`).html("Select a new module to add to your sequence.");var c=sequencer.images.image1.steps.length>1;i&&i(c),r.setUrlHashParameter("steps",e.toString())}}}}},{"./urlHash.js":9}],6:[function(e,t,n){var r=e("gifshot");t.exports=function(e,t,n,i){var o=!1;$(t||".view-as-gif-btn").on("click",function(t){if(!o){o=!0;var a=t.target;a.disabled=!0;try{for(var s=$(n||".step-thumbnail"),c=[],l=0;l<s.length;l++)c.push(s[l].src);var u={gifWidth:s[0].width,gifHeight:s[0].height,images:c,frameDuration:7};r.createGIF(u,function(t){if(!t.error){var n=t.image,r=document.createElement("img");r.classList.add(i||"gif-img"),r.src=n,e(r),a.disabled=!1,o=!1}})}catch(e){console.error(e),a.disabled=!1,o=!1}}})}},{gifshot:1}],7:[function(e,t,n){var{refreshOptions:r}=e("./setModuleSelector");t.exports=function(e,t,n){$(e||"#save-seq").click(()=>{var e=window.prompt("Please give a name to your sequence... (Saved sequence will only be available in this browser).");e&&(e+=" (local)",sequencer.saveSequence(e,sequencer.toString()),sequencer.loadModules(),n&&n(e),r(t))})}},{"./setModuleSelector":8}],8:[function(e,t,n){function r(e){var t=sequencer.modulesInfo(),n=$(e||"#selectStep");for(var r in n.html(""),t)t[r]&&t[r].name&&n.append('<option value="'+r+'">'+t[r].name+"</option>");n.append('<option value="none" disabled selected>More modules...</option>')}t.exports={setModuleSelector:function(e){r(),function(e){$(e.options.quickBtnsSel).on("click",function(){$(e.options.quickBtnsSel).removeClass("selected"),$(this).addClass("selected"),newStep=$(this).attr("data-value"),$(e.options.stepSelectSel).val(newStep),e.selectNewStepUi(),e.addStepUi(),$(this).removeClass("selected")})}(e),$(e.options.stepSelectSel).on("change",e.selectNewStepUi),$(e.options.addStepBtnSel).on("click",e.addStepUi)},refreshOptions:r}},{}],9:[function(e,t,n){function r(){var e=window.location.hash;e&&(e=e.split("#")[1]);var t={};return(e.includes("&")?e.split("&"):[e]).forEach(function(e,n){""!=(e=e.split("="))[0]&&(t[e[0]]=e[1])}),t}function i(e){var t=Object.keys(e),n=Object.values(e),r=[];t.forEach(function(e,i){""!=e&&r.push(t[i]+"="+n[i])});var i=r.join("&");window.location.hash=i}t.exports={getUrlHashParameter:function(e){return r()[e]},setUrlHashParameter:function(e,t){var n=r();n[e]=t,i(n)},getUrlHashParameters:r,setUrlHashParameters:i}},{}],10:[function(e,t,n){var r=e("../step/intermediateHtmlStepUi"),i=e("../sequence/urlHash"),o=e("./mapHtmlTypes"),{notify:a}=e("../../DOM/helpers");function s(e,t){var n=(t=t||{}).stepsSel||document.querySelector("#steps ul"),s=t.getStepTemplate,c=t.getToolsTemplate,l=t.stepWrapperSel||".step-wrapper",u=t.stepImgClass||".step-thumbnail",d=t.saveOptionsInputCb,p=t.optionsSavedCb,f=t.initializeInputs,m=t.inputTemplates,h=t.onSetupCb,g=t.onDrawCb,v=t.setInputDefaultCb,b=t.onCompleteCb;return{getPreview:function(){return step.imgElement},onSetup:function(g,v){g.options&&g.options.description&&(g.description=g.options.description),g.ui=s(g);var b=c(g),S=r(e,g,t),w=new DOMParser;if(g.ui=w.parseFromString(g.ui,"text/html"),g.ui=g.ui.querySelector(l),g.imgLinkElements=g.ui.querySelectorAll(".img-link"),g.imgElement=g.ui.querySelector(u),g.imgElement.alt=g.name,e.modulesInfo().hasOwnProperty(g.name)){var y=e.modulesInfo(g.name).inputs,k=e.modulesInfo(g.name).outputs,C=Object.assign(y,k);for(var x in C){var q=y.hasOwnProperty(x),E="",O=q?o(y[x]):{};q?"select"==O.type?E+=m.getSelectInputTemplate(x,O):"text"==O.type?E+=m.getTextTemplate(x,O):"range"==O.type?E+=m.getRangeTemplate(x,O):E+=m.getDefaultTemplate(x,O):E+='<span class="output"></span>';var U=document.createElement("div");U.className="det",U.setAttribute("name",x);var F=O.desc||"";U.innerHTML=`\n        <span>${F}</span>\n        ${E}`,$(g.ui.querySelector("div.details")).append(U)}$(g.ui.querySelector("div.details")).append('<div><p><button type="submit" class="btn btn-save" disabled="true" >Apply</button><span> Press apply to see changes</span></p></div>')}"load-image"!=g.name?(g.ui.querySelector("div.details").appendChild(w.parseFromString(b,"text/html").querySelector(".tools")),$(g.ui.querySelectorAll(".remove-btn")).on("click",a("Step Removed","step-removed-notification","notification")),$(g.ui.querySelectorAll(".insert-step-btn")).on("click",function(){S.insertStep(g.ID)}),v.index==e.images.image1.steps.length?($(n).append(g.ui),$(`${n} li:nth-last-child(1) .insert-step-btn`).prop("disabled",!0),$(`${n} li:nth-last-child(2)`)&&$(`${n} li:nth-last-child(2) .insert-step-btn`).prop("disabled",!1)):n.insertBefore(g.ui,$(n).children()[v.index])):$(n).append(g.ui),g.changedInputs=0,g.optionsChanged=!1,$(g.ui.querySelector(".input-form")).on("submit",function(t){t.preventDefault(),g.optionsChanged&&($(g.ui.querySelector("div.details")).find("input,select,textarea").each(function(e,t){d&&d(t),g.options[$(t).attr("name")]=$(t).val()}),e.run({index:g.index-1}),i.setUrlHashParameter("steps",e.toString()),g.optionsChanged=!1,g.changedInputs=0,p&&p(g))}),f&&$(g.ui.querySelectorAll(".target")).each(function(e,t){f(t,g)}),h&&h(g)},onComplete:function(t){if($(t.ui.querySelector(".loader")).hide(),$(t.ui.querySelector(".step-thumbnail")).show(),$(t.ui.querySelector(".loader")).hide(),t.imgElement.src=t.output,$(t.ui.querySelector(".download-step-btn")).on("click",function(){download(t.output,t.name+".png","image/png")}),e.modulesInfo().hasOwnProperty(t.name)){var n=e.modulesInfo(t.name).inputs,r=e.modulesInfo(t.name).outputs;for(var i in n)if(void 0!==t.options[i]){"input"===n[i].type.toLowerCase()&&$(t.ui.querySelector('div[name="'+i+'"] input')).val(t.options[i]),"input"===n[i].type.toLowerCase()&&$(t.ui.querySelector('div[name="'+i+'"] textarea')).val(t.options[i]),"select"===n[i].type.toLowerCase()&&$(t.ui.querySelector('div[name="'+i+'"] select')).find('option[value="'+t.options[i]+'"]').prop("selected",!0);var o=$(t.ui.querySelector('div[name="'+i+'"]'));v&&v(o)}for(var i in r)void 0!==t[i]&&$(t.ui.querySelector('div[name="'+i+'"] input,textarea')).val(t[i])}b&&b(t)},onRemove:function(e){e.ui.remove(),$(`${n} ${l}:nth-last-child(1) .insert-step-btn`).prop("disabled",!0),$("div[class^=imgareaselect-]").remove(),onRemoveCb&&onRemoveCb(e)},onDraw:function(e){$(e.ui.querySelector(".loader")).show(),$(e.ui.querySelector(".step-thumbnail")).hide(),g&&g(e)},notify:a}}"undefined"==typeof window&&(t.exports={DefaultHtmlStepUi:s}),t.exports=s},{"../../DOM/helpers":2,"../sequence/urlHash":9,"../step/intermediateHtmlStepUi":11,"./mapHtmlTypes":12}],11:[function(e,t,n){var r=e("../sequence/urlHash"),{updatePreviews:i}=e("../../DOM/insertPreview");t.exports=function(e,t,n){var o=n.getStepInsertTemplate,a=n.insertStepSel||".insert-step",s=n.insertUi,c=n.insertStepCb;function l(t){n=n||{};var i=$(insertStepSelectSel);if("none"!=i.val()){var o=i.val();sequencer.sequences[o]?sequenceLength=sequencer.sequences[o].length:sequencer.modules[o][1].length&&(sequenceLength=sequencer.modules[o][1].length),e.insertSteps(t+1,o).run({index:t}),r.setUrlHashParameter("steps",e.toString())}}function u(n){s(t,n);var r=$(`${a} select`).val();$(`${a} .info`).html(e.modulesInfo(r).description),$(`${a} .add-step-btn`).prop("disabled",!1)}return insertStep=function(r){var s=e.modulesInfo(),d=new DOMParser,p=o(t);p=d.parseFromString(p,"text/html").querySelector(".insert-step");var f=$(insertStepSelectSel);for(var m in f.html(""),s)void 0!==s[m]&&f.append('<option value="'+m+'">'+s[m].name+"</option>");$(`${a} .add-step-btn`).prop("disabled",!0),f.append('<option value="none" disabled selected>More modules...</option>'),$(n.quickBtnsSel).on("click",function(){$(n.quickBtnsSel).removeClass("selected"),$(this).addClass("selected"),newStep=$(this).attr("data-value"),f.val(newStep),u(),l(r),$(this).removeClass("selected")}),$(t.ui.querySelector(`${a} select`)).on("change",u),$(t.ui.querySelector(`${f} .add-step-btn`)).on("click",function(){l(r)}),i(t.output,n.quickBtnsSel),c&&c()},{insertStep:insertStep}}},{"../../DOM/insertPreview":3,"../sequence/urlHash":9}],12:[function(e,t,n){t.exports=function(e){var t;switch(e.type.toLowerCase()){case"integer":t=void 0!=e.min?"range":"number";break;case"select":t="select";break;case"percentage":t="number";break;case"float":t=void 0!=e.min?"range":"text";break;case"range":t="range";break;case"number":t="number";break;default:t="text"}return{...e,type:t}}},{}],13:[function(e,t,n){t.exports=function(e,t){"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js",{scope:e}).then(function(e){const t=e.installing;t.onstatechange=(()=>{console.log(t),"installed"===t.state&&location.reload()}),console.log("Registration successful, scope is:",e.scope)}).catch(function(e){console.log("Service worker registration failed, error:",e)}),"serviceWorker"in navigator&&caches.keys().then(function(e){e.forEach(function(e){$(t).append(" "+e)})}),$(t).click(function(){"serviceWorker"in navigator&&caches.keys().then(function(e){e.forEach(function(e){caches.delete(e)})}),location.reload()})}},{}],14:[function(e,t,n){t.exports=(()=>{self.addEventListener("install",e=>{console.log("Attempting to install service worker")}),self.addEventListener("activate",function(e){console.log("[ServiceWorker] Activate"),e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(e){return e.startsWith("image-sequencer-")&&"image-sequencer-new-static-v3"!=e}).map(function(e){return caches.delete(e)}))}))}),self.addEventListener("fetch",function(e){e.respondWith(caches.open("image-sequencer-new-static-v3").then(function(t){return t.match(e.request).then(function(n){return n||fetch(e.request).then(function(n){return"GET"==e.request.method&&t.put(e.request,n.clone()),n})})}))})})},{}]},{},[4]);